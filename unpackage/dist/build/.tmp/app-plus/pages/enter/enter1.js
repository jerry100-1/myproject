(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/enter/enter1"],{"2b7d":function(e,n,t){"use strict";var a=function(){var e=this,n=e.$createElement;e._self._c},o=[];t.d(n,"a",function(){return a}),t.d(n,"b",function(){return o})},"2cf1":function(e,n,t){"use strict";var a=t("4aee"),o=t.n(a);o.a},"3bd1":function(e,n,t){"use strict";t.r(n);var a=t("6030"),o=t.n(a);for(var s in a)"default"!==s&&function(e){t.d(n,e,function(){return a[e]})}(s);n["default"]=o.a},"4aee":function(e,n,t){},6030:function(e,n,t){"use strict";(function(e,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;t("2dbd");var o="",s=function(){return t.e("components/uni-icon/uni-icon").then(t.bind(null,"50ee"))},i={components:{uniIcon:s},data:function(){return{changeid:"",upSrc:"",myflag1:!0,myflag2:!1,myflag3:!1,myflag4:!0,myflag5:!1,myflag6:!1,defSrc:"../../static/capital/my_add_image@2x.png",contactsPhone:"",contactsName:"",shopAddressP:[{proName:""}],pIndex:0,shopAddressC:[{proName:""}],cIndex:0,shopAddressX:[{proName:""}],xIndex:0,companyName:"",shopAddress:"",qq:"",shopName:"",cusNum:"",cusWX:"",cusPhone:"",linepayratio:"80",linepayratioIndex:0,front:["需要","不需要"],frontIndex:0,existsShop:1,latitude:"",longitude:"",index:0,index2:1,businessIdentity:1,businessAbbreviation:"",index3:0,index4:0,isFrontArr:["有","无"],objectArray:[{id:0,name:"小微商户自收款"},{id:1,name:"特约商户自收款"},{id:2,name:"特约商户代收款"}],objectArray2:[{id:0,name:"联盟支付"},{id:1,name:"普通支付"}],objectArray3:[{id:0,name:"需要"},{id:1,name:"不需要"}],objectArray4:[{id:0,name:"8%"},{id:1,name:"15%"}],isFrontArrIndex:0,merchantId:"",marchantType:[{typename:""}],shopIndex:0,isFront:1,linePayRatio:"80",weixinfeilv:"",payment:2,paymentKey:"",IDCardName:"",IDCardNumber:"",validateIDTime:"",validateTime:"",assignNumber:"",settledName:""}},onNavigationBarButtonTap:function(n){e.navigateTo({url:"service"})},methods:{map:function(){var n=this;e.chooseLocation({success:function(t){setTimeout(function(){e.showToast({title:"定位成功",icon:"none"})},200),n.latitude=t.latitude,n.longitude=t.longitude}})},checkUserName:function(e){var n=this;n.$ajax({url:"/channelManagementRest/checkExistsAccountName",data:{accountName:e.detail.value,marchantId:n.marchantId||null},success:function(e){}})},bindPickerChanges:function(e){o.index=e.detail.value,console.log(a("当前的index是"+o.index," at pages\\enter\\enter1.vue:470")),console.log(a("你好,currentTarget方式获取的id是"+e.currentTarget.dataset.id," at pages\\enter\\enter1.vue:472")),console.log(a("你好,当前的id是"+o.objectArray[o.index].id," at pages\\enter\\enter1.vue:475")),0==e.detail.value?(o.myflag1=!0,o.myflag2=!1,o.myflag3=!1,console.log(a("你好,你选择的是小微商户自收款"," at pages\\enter\\enter1.vue:485")),o.businessIdentity=1,o.isFront=1,o.index3=0,o.payment=2,o.index2=1,o.$nextTick(function(){o.$refs.mypicker1.disabled="disabled"}),o.$nextTick(function(){o.$refs.mypicker2.disabled="disabled"})):1==e.detail.value?(o.myflag1=!1,o.myflag2=!0,o.myflag3=!1,o.myflag6=!0,console.log(a("你好,你选择的是特约商户自收款"," at pages\\enter\\enter1.vue:504")),o.businessIdentity=2):2==e.detail.value&&(o.myflag1=!1,o.myflag2=!1,o.myflag3=!0,o.myflag6=!0,console.log(a("你好,你选择的是特约商户代收款"," at pages\\enter\\enter1.vue:513")),o.businessIdentity=3)},bindPickerChanges2:function(e){o.index2=e.detail.value,console.log(a("当前的index是"+o.index2," at pages\\enter\\enter1.vue:521")),console.log(a("你好,currentTarget方式获取的id是"+e.currentTarget.dataset.bindid," at pages\\enter\\enter1.vue:524")),console.log(a("你好,当前的id是"+o.objectArray2[o.index2].id," at pages\\enter\\enter1.vue:527")),0==o.index2?(console.log(a("你好,你选择的是联盟支付!!!"," at pages\\enter\\enter1.vue:532")),o.myflag4=!0,o.myflag5=!1,o.payment=1,o.myflag6=!1):(console.log(a("你好,你选择的是普通支付!!!"," at pages\\enter\\enter1.vue:538")),o.myflag4=!1,o.myflag5=!0,o.payment=2,o.myflag6=!0)},bindPickerChanges3:function(e){o.index3=e.detail.value,console.log(a("当前的index是"+o.index3," at pages\\enter\\enter1.vue:550")),console.log(a("你好,currentTarget方式获取的id是"+e.currentTarget.dataset.bindid," at pages\\enter\\enter1.vue:552")),console.log(a("你好,当前的id是"+o.objectArray3[o.index3].id," at pages\\enter\\enter1.vue:553")),0==o.index3?(console.log(a("选择的是需要线下支付"," at pages\\enter\\enter1.vue:557")),o.isFront=1):1==o.index3&&(o.isFront=2,console.log(a("选择的是不需要线下支付"," at pages\\enter\\enter1.vue:562")))},bindPickerChanges4:function(e){o.index4=e.detail.value,console.log(a("当前的index是"+o.index4," at pages\\enter\\enter1.vue:573")),console.log(a("你好,当前的id是"+o.objectArray4[o.index4].id," at pages\\enter\\enter1.vue:576")),0==o.index4?o.linePayRatio="80":o.linePayRatio="150"},isFrontArrChange:function(e){console.log(a("你好,你选择的是"+e.detail.value," at pages\\enter\\enter1.vue:590")),this.isFrontArrIndex=e.detail.value,1==e.detail.value&&(this.latitude="",this.longitude=""),0==e.detail.value?(o.existsShop=1,console.log(a("选择的是有实体店铺"," at pages\\enter\\enter1.vue:600"))):1==e.detail.value&&(console.log(a("选择的是没有实体店铺"," at pages\\enter\\enter1.vue:603")),o.existsShop=2)},linepayratioChange:function(e){this.linepayratioIndex=e.detail.value},shopAddressPChange:function(e){var n=this;n.pIndex=e.detail.value,n.searchCity()},searchCity:function(e){var n=this;n.$ajax({url:"/shopProduct/getCommonAddressCityList",data:{proCode:n.shopAddressP[n.pIndex].code},success:function(t){if(n.shopAddressC=t,e)for(var a in t)if(e.companyCity==t[a].code){n.cIndex=a;break}n.searchX(e)}})},checkPhone:function(e){return!!/^1[3456789]\d{9}$/.test(e)},searchX:function(e){var n=this;n.$ajax({url:"/shopProduct/getCommonAddressDistrictList",data:{cityCode:n.shopAddressC[n.cIndex].code},success:function(t){if(n.shopAddressX=t,e)for(var a in t)if(e.companyArea==t[a].code){n.xIndex=a;break}}})},shopAddressChange:function(e){var n=this;n.cIndex=e.detail.value,n.searchCity()},shopAddressXChange:function(e){this.xIndex=e.detail.value},url:function(){var n=this;if(n.shopName&&n.cusPhone&&n.cusNum&&n.contactsName&&n.contactsPhone&&n.shopAddress&&n.companyName){if(!n.checkPhone(n.contactsPhone))return void e.showToast({title:"请填写正确的手机号码",icon:"none"});var t={accountName:n.cusNum||"",address:n.shopAddress,companyArea:n.shopAddressX[n.xIndex].code,companyCity:n.shopAddressC[n.cIndex].code,companyName:n.companyName,companyProvince:n.shopAddressP[n.pIndex].code,contactsName:n.contactsName,contactsPhone:n.contactsPhone,existsShop:n.existsShop,servicePhone:n.cusPhone,weixin:n.cusWX,shopName:n.shopName,displayImg:n.upSrc,shopSN:n.businessAbbreviation,idName:n.IDCardName,idNumber:n.IDCardNumber,idValidTime:n.validateIDTime,marchantType:n.marchantType[n.shopIndex].marchanttypeid,linePayRatio:n.linePayRatio,latitude:n.latitude,longitude:n.longitude,shopIdentity:n.businessIdentity,isFront:n.isFront,payment:n.payment,wxServiceFee:n.weixinfeilv,wxShopName:n.settledName,wxMchid:n.assignNumber,wxPaykey:n.paymentKey};if(console.log(a("提交之前的店铺名称shopName是"+n.shopName," at pages\\enter\\enter1.vue:733")),console.log(a("提交之前的行业类别marchantType是"+n.marchantType[n.shopIndex].marchanttypeid," at pages\\enter\\enter1.vue:734")),console.log(a("提交之前的displayImg是"+n.upSrc," at pages\\enter\\enter1.vue:735")),console.log(a("提交之前的客服电话servicePhone是"+n.cusPhone," at pages\\enter\\enter1.vue:736")),console.log(a("提交之前的客服微信weixin是"+n.cusWX," at pages\\enter\\enter1.vue:737")),console.log(a("提交之前的是否有实体店铺existsShop是"+n.existsShop," at pages\\enter\\enter1.vue:738")),console.log(a("提交之前实体店铺的经度longitude是"+n.longitude," at pages\\enter\\enter1.vue:739")),console.log(a("提交之前实体店铺的纬度latitude是"+n.latitude," at pages\\enter\\enter1.vue:740")),console.log(a("提交之前的商户简称businessAbbreviation是"+n.businessAbbreviation," at pages\\enter\\enter1.vue:741")),console.log(a("提交之前的门店地址省companyProvince是"+n.shopAddressP[n.pIndex].code," at pages\\enter\\enter1.vue:742")),console.log(a("提交之前的门店地址市companyCity是"+n.shopAddressC[n.cIndex].code," at pages\\enter\\enter1.vue:743")),console.log(a("提交之前的门店地址区companyArea是"+n.shopAddressX[n.xIndex].code," at pages\\enter\\enter1.vue:744")),console.log(a("提交之前的门店地址companyName是"+n.companyName," at pages\\enter\\enter1.vue:745")),console.log(a("提交之前的门店详细地址address是"+n.shopAddress," at pages\\enter\\enter1.vue:746")),console.log(a("提交之前的身份证姓名idName是"+n.IDCardName," at pages\\enter\\enter1.vue:747")),console.log(a("提交之前的身份证号码idNumber是"+n.IDCardNumber," at pages\\enter\\enter1.vue:748")),console.log(a("提交之前的身份证有效期idValidTime是"+n.validateIDTime," at pages\\enter\\enter1.vue:749")),console.log(a("提交之前的联系人contactsName是"+n.contactsName," at pages\\enter\\enter1.vue:750")),console.log(a("提交之前的联系电话contactsPhone是"+n.contactsPhone," at pages\\enter\\enter1.vue:751")),console.log(a("提交之前的登陆账号accountName是"+n.cusNum," at pages\\enter\\enter1.vue:752")),console.log(a("提交之前的线下支付是否需要isFront是"+n.isFront," at pages\\enter\\enter1.vue:753")),console.log(a("提交之前的支付方式payment是"+n.payment," at pages\\enter\\enter1.vue:754")),console.log(a("提交之前的微信费率wxServiceFee是"+n.weixinfeilv," at pages\\enter\\enter1.vue:759")),console.log(a("提交之前的联盟经费linePayRatio是"+n.linePayRatio," at pages\\enter\\enter1.vue:760")),console.log(a("提交之前的商户身份shopIdentity是"+n.businessIdentity," at pages\\enter\\enter1.vue:761")),console.log(a("提交之前的wxServiceFee是"+n.weixinfeilv," at pages\\enter\\enter1.vue:762")),console.log(a("提交之前的wxShopName是"+n.settledName," at pages\\enter\\enter1.vue:763")),console.log(a("提交之前的wxPaykey是"+n.paymentKey," at pages\\enter\\enter1.vue:764")),console.log(a("提交之前的wxMchid是"+n.assignNumber," at pages\\enter\\enter1.vue:765")),""==n.shopName||""==n.upSrc||""==n.cusPhone||""==n.cusWX||""==n.businessAbbreviation||""==n.companyName||""==n.shopAddress||""==n.IDCardName||""==n.IDCardNumber||""==n.validateIDTime||""==n.contactsName||""==n.contactsPhone||""==n.cusNum||""==n.weixinfeilv)return void e.showToast({title:"请保证信息填写完整",content:"请保证信息填写完整"});t=JSON.stringify(t),e.navigateTo({url:"enter2?obj="+t+"&merchantId="+n.merchantId})}else e.showToast({title:"请填写完整的信息",icon:"none"})},limit:function(e){var n="";n=(e/1048576).toFixed(2);var t=n+"",a=t.indexOf("."),o=t.substr(a+1,2);return"00"==o?t.substring(0,a)+t.substr(a+3,2):n},proImgsChoose:function(){var n=this;e.chooseImage({count:1,sizeType:["original","compressed"],success:function(t){console.log(a(n.limit(t.tempFiles[0].size)," at pages\\enter\\enter1.vue:811")),n.limit(t.tempFiles[0].size)>1?e.showToast({title:"图片大小不能超过1M",icon:"none"}):n.$ajax({uploadFile:!0,formData:{fileName:"/marchant/"},filePath:t.tempFilePaths[0],success:function(e){n.upSrc=e}})}})},shopChange:function(e){this.shopIndex=e.detail.value},ProvinceList:function(e){var n=this;n.$ajax({url:"/shopProduct/getCommonAddressProvinceList",success:function(t){if(n.shopAddressP=t,e)for(var a in t)if(e.companyProvince==t[a].code){n.pIndex=a;break}n.searchCity(e)}})},typeMapper:function(e){var n=this;n.$ajax({url:"/channelManagementRest/getSelectMarchantTypeMapper",success:function(t){if(n.marchantType=t,e)for(var a in t)if(e==t[a].marchanttypeid){n.shopIndex=a;break}}})}},onLoad:function(e){e.id&&(this.marchantId=e.id),o=this,1==o.businessIdentity&&(o.$nextTick(function(){o.$refs.mypicker1.disabled="disabled"}),o.$nextTick(function(){o.$refs.mypicker2.disabled="disabled"})),1==o.isFront&&console.log(a("你好,你选择的是需要线下支付"," at pages\\enter\\enter1.vue:893")),o.marchantId?o.$ajax({url:"/channelManagementRest/getSelectMarchantInfo",data:{marchantId:o.marchantId},success:function(e){o.shopName=e.shopName,o.upSrc=e.displayImg,o.cusPhone=e.servicePhone,o.cusWX=e.weixin,o.cusNum=e.accountName||"",o.companyName=e.companyName,o.companyProvince=e.companyProvince,o.companyCity=e.companyCity,o.companyArea=e.companyArea,o.shopAddress=e.address,o.contactsName=e.contactsName,o.contactsPhone=e.contactsPhone,o.frontIndex=1*e.isFront-1,o.existsShop=e.existsShop,o.latitude=e.latitude||"",o.longitude=e.longitude||"",o.linepayratioIndex=80==e.linePayRatio?0:1,o.businessAbbreviation=e.shopSN,o.IDCardName=e.idName,o.IDCardNumber=e.idNumber,o.validateIDTime=e.idValidTime,o.payment=e.payment,o.weixinfeilv=e.wxServiceFee,o.businessIdentity=e.shopIdentity,o.isFront=e.isFront,o.linePayRatio=e.linePayRatio,o.settledName=e.wxShopName,o.assignNumber=e.wxMchid,o.paymentKey=e.wxPaykey,o.typeMapper(e.marchantType),o.ProvinceList(e)}}):(o.typeMapper(),o.ProvinceList())}};n.default=i}).call(this,t("6e42")["default"],t("0de9")["default"])},aca1:function(e,n,t){"use strict";t.r(n);var a=t("2b7d"),o=t("3bd1");for(var s in o)"default"!==s&&function(e){t.d(n,e,function(){return o[e]})}(s);t("2cf1");var i=t("2877"),r=Object(i["a"])(o["default"],a["a"],a["b"],!1,null,"28e9ea28",null);n["default"]=r.exports}},[["73a2","common/runtime","common/vendor"]]]);